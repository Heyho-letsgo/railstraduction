<!DOCTYPE html>
<!-- https://youtu.be/DOtkNxmg9QY -->
<head>
    <title>Text to speech</title>
    <meta charset="utf-8">
  <!-- https://youtu.be/z4PDJcw8yUI -->  
      <script type="text/javascript">
        
        var speech = new SpeechSynthesisUtterance();
        speech.text = "Ceci est un test pour David";
        speech.lang = "fr-FR";
        //speech.onend = function(event){
        //  console.log('Text to voice API: Synthesis finished in ' + event.elapsedTime +' seconds')  
        // };
        speechSynthesis.speak(speech);
        </script>
        
        // pour le html
        <script>
        var $buttons = document.createElement('p'),
      $button = document.createElement('button'),
      $play = $button.cloneNode(),
      $pause = $button.cloneNode(),
      paused = false,
      to_speak;
	
	if ( 'speechSynthesis' in window ) {

    window.addEventListener('beforeunload',function(){ window.speechSynthesis.cancel(); });
    
	  // content to speak
    to_speak = new SpeechSynthesisUtterance(
      document.querySelector('main').textContent
    );
    
    // set the rate a little faster than 1x
    to_speak.rate = 1.4;
	
    // Event Handlers
    function play() {
      if ( paused ) {
        paused = false;
        window.speechSynthesis.resume();
      } else {
        window.speechSynthesis.speak( to_speak );
      }
    }
    function pause() {
      paused = true;
      window.speechSynthesis.pause();
    }
    
    // Play Button
    $play.innerText = 'Play';
    $play.addEventListener( 'click', play, false );
    $buttons.appendChild( $play );
    
    // Pause Button
    $pause.innerText = 'Pause';
    $pause.addEventListener( 'click', pause, false );
	  $buttons.appendChild( $pause );

	} else {
	  
	  // Sad panda
	  $buttons.innerText = 'Unfortunately your browser doesn’t support this feature.';
	  
	}
	
	document.body.appendChild( $buttons );        
        
    </script>    


</head>
<html>
    <body>
<h1>Experimenting with <code>speechSynthesis</code></h1>

<p>This is a simple <code>speechSynthesis</code> example.</p>

<main>
  <p>In the work that we do on the Web (as well as in our daily lives), we’re often confronted, informed, or judged based on averages. I never really stopped to think about it, beyond being bugged by the fact that averages aren’t truly representative of
    reality. Then I listened to 99% Invisible’s episode “On Average”. It was incredibly enlightening and the stories shared in that episode provide sage wisdom that is very relevant to the work that we do.</p>
</main>



    </body>

</html>